{
  "id": "@artifactId@-@version@",
  "name": "INN Reach API module",
  "requires": [],
  "provides": [
    {
      "id": "inn-reach",
      "version": "1.0",
      "handlers": [
        {
          "methods": ["POST"],
          "pathPattern": "/inn-reach/central-servers",
          "permissionsRequired": ["inn-reach.central-servers.item.post"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/central-servers",
          "permissionsRequired": ["inn-reach.central-servers.collection.get"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}",
          "permissionsRequired": ["inn-reach.central-servers.item.get"]
        },
        {
          "methods": ["PUT"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}",
          "permissionsRequired": ["inn-reach.central-servers.item.put"]
        },
        {
          "methods": ["DELETE"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}",
          "permissionsRequired": ["inn-reach.central-servers.item.delete"]
        },
        {
          "methods": ["POST"],
          "pathPattern": "/inn-reach/locations",
          "permissionsRequired": ["inn-reach.locations.item.post"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/locations",
          "permissionsRequired": ["inn-reach.locations.collection.get"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/locations/{locationId}",
          "permissionsRequired": ["inn-reach.locations.item.get"]
        },
        {
          "methods": ["PUT"],
          "pathPattern": "/inn-reach/locations/{locationId}",
          "permissionsRequired": ["inn-reach.locations.item.put"]
        },
        {
          "methods": ["DELETE"],
          "pathPattern": "/inn-reach/locations/{locationId}",
          "permissionsRequired": ["inn-reach.locations.item.delete"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/material-type-mappings",
          "permissionsRequired": ["inn-reach.material-type-mappings.collection.get"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/material-type-mappings/{mappingId}",
          "permissionsRequired": ["inn-reach.material-type-mappings.item.get"]
        },
        {
          "methods": ["POST"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/material-type-mappings",
          "permissionsRequired": ["inn-reach.material-type-mappings.item.post"]
        },
        {
          "methods": ["PUT"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/material-type-mappings/{mappingId}",
          "permissionsRequired": ["inn-reach.material-type-mappings.item.put"]
        },
        {
          "methods": ["DELETE"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/material-type-mappings/{mappingId}",
          "permissionsRequired": ["inn-reach.material-type-mappings.item.delete"]
        },
        {
          "methods": ["GET"],
          "pathPattern": "/inn-reach/central-servers/{centralServerId}/d2r/*",
          "permissionsRequired": ["inn-reach.d2r.settings.any.get"]
        },
        {
          "methods": ["POST"],
          "pathPattern": "/inn-reach/authentication",
          "permissionsRequired": ["inn-reach.authentication.item.post"]
        }
      ]
    },
    {
      "id": "_tenant",
      "version": "1.2",
      "interfaceType": "system",
      "handlers": [
        {
          "methods": ["POST"],
          "pathPattern": "/_/tenant",
          "permissionsRequired": []
        },
        {
          "methods": ["DELETE"],
          "pathPattern": "/_/tenant",
          "permissionsRequired": []
        }
      ]
    }
  ],
  "permissionSets": [
    {
      "permissionName" : "inn-reach.central-servers.item.post",
      "displayName" : "create a inn reach central server entry",
      "description" : "Add a inn reach central server entry"
    },
    {
      "permissionName" : "inn-reach.central-servers.collection.get",
      "displayName" : "get a collection of inn reach central servers entries",
      "description" : "Get a collection of inn reach central servers entries"
    },
    {
      "permissionName" : "inn-reach.central-servers.item.get",
      "displayName" : "get an inn reach central server entry",
      "description" : "Get a inn reach central server entry by id"
    },
    {
      "permissionName" : "inn-reach.central-servers.item.put",
      "displayName" : "modify an inn reach central server entry",
      "description" : "Modify an inn reach central server entry"
    },
    {
      "permissionName" : "inn-reach.central-servers.item.delete",
      "displayName" : "delete an inn reach central server entry",
      "description" : "Delete an inn reach central server entry by id"
    },
    {
      "permissionName" : "inn-reach.central-servers.all",
      "displayName" : "inn reach API module - all permissions of central servers",
      "description" : "All permissions of inn reach central servers scope",
      "subPermissions" : [
        "inn-reach.central-servers.item.post",
        "inn-reach.central-servers.collection.get",
        "inn-reach.central-servers.item.get",
        "inn-reach.central-servers.item.put",
        "inn-reach.central-servers.item.delete"
      ]
    },
    {
      "permissionName" : "inn-reach.locations.item.post",
      "displayName" : "create an inn reach location entry",
      "description" : "Add an inn reach location entry"
    },
    {
      "permissionName" : "inn-reach.locations.collection.get",
      "displayName" : "get a collection of inn reach location entries",
      "description" : "Get a collection of inn reach location entries"
    },
    {
      "permissionName" : "inn-reach.locations.item.get",
      "displayName" : "get an inn reach location entry",
      "description" : "Get an inn reach location entry by id"
    },
    {
      "permissionName" : "inn-reach.locations.item.put",
      "displayName" : "modify an inn reach location entry",
      "description" : "Modify an inn reach location entry"
    },
    {
      "permissionName" : "inn-reach.locations.item.delete",
      "displayName" : "delete an inn reach location entry",
      "description" : "Delete an inn reach location entry by id"
    },
    {
      "permissionName" : "inn-reach.locations.all",
      "displayName" : "inn reach API module - all permissions of inn reach locations",
      "description" : "All permissions of inn reach locations scope",
      "subPermissions" : [
        "inn-reach.locations.item.post",
        "inn-reach.locations.collection.get",
        "inn-reach.locations.item.get",
        "inn-reach.locations.item.put",
        "inn-reach.locations.item.delete"
      ]
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.item.post",
      "displayName" : "create an inn reach material type mapping entry",
      "description" : "Add an inn reach material type mapping entry"
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.collection.get",
      "displayName" : "get a collection of inn reach material type mapping entries",
      "description" : "Get a collection of inn reach material type mapping entries"
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.item.get",
      "displayName" : "get an inn reach material type mapping entry",
      "description" : "Get an inn reach material type mapping entry by id"
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.item.put",
      "displayName" : "modify an inn reach material type mapping entry",
      "description" : "Modify an inn reach material type mapping entry"
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.item.delete",
      "displayName" : "delete an inn reach material type mapping entry",
      "description" : "Delete an inn reach material type mapping entry by id"
    },
    {
      "permissionName" : "inn-reach.material-type-mappings.all",
      "displayName" : "inn reach API module - all permissions of material type mappings",
      "description" : "All permissions of inn reach material type mappings scope",
      "subPermissions" : [
        "inn-reach.material-type-mappings.item.post",
        "inn-reach.material-type-mappings.collection.get",
        "inn-reach.material-type-mappings.item.get",
        "inn-reach.material-type-mappings.item.put",
        "inn-reach.material-type-mappings.item.delete"
      ]
    },
    {
      "permissionName" : "inn-reach.d2r.settings.any.get",
      "displayName" : "get inn reach settings",
      "description" : "Get inn reach settings"
    },
    {
      "permissionName" : "inn-reach.authentication.item.post",
      "displayName" : "authenticate local server credentials",
      "description" : "Perform authentication of local server credentials"
    },
    {
      "permissionName" : "inn-reach.authentication.all",
      "displayName" : "inn reach API module - all permissions of inn reach local server credentials authentication",
      "description" : "All permissions of inn reach local server credentials authentication scope",
      "subPermissions" : [
        "inn-reach.authentication.item.post"
      ]
    },
    {
      "permissionName" : "inn-reach.all",
      "displayName" : "inn reach API module - all permissions",
      "description" : "All permissions for inn reach",
      "subPermissions" : [
        "inn-reach.central-servers.all",
        "inn-reach.locations.all",
        "inn-reach.material-type-mappings.all",
        "inn-reach.d2r.settings.any.get",
        "inn-reach.authentication.all"
      ]
    }
  ],
  "launchDescriptor": {
    "dockerImage": "@artifactId@:@version@",
    "dockerPull": false,
    "dockerArgs": {
      "HostConfig": {
        "Memory": 536870912,
        "PortBindings": {
          "8081/tcp": [
            {
              "HostPort": "%p"
            }
          ]
        }
      }
    },
    "env": [
      {
        "name": "JAVA_OPTIONS",
        "value": "-XX:MaxRAMPercentage=85.0"
      },
      {
        "name": "DB_HOST",
        "value": "postgres"
      },
      {
        "name": "DB_PORT",
        "value": "5432"
      },
      {
        "name": "DB_USERNAME",
        "value": "folio_admin"
      },
      {
        "name": "DB_PASSWORD",
        "value": "folio_admin"
      },
      {
        "name": "DB_DATABASE",
        "value": "okapi_modules"
      },
      {
        "name": "DB_QUERYTIMEOUT",
        "value": "60000"
      },
      {
        "name": "DB_CHARSET",
        "value": "UTF-8"
      },
      {
        "name": "DB_MAXPOOLSIZE",
        "value": "5"
      }
    ]
  }
}
